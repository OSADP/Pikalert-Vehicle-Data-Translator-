var ral = ral || {};
ral.time = ral.time || {};

/**
 * Present an interface to the user to allow the user to control animations.  This basic
 * implementation plays from current position, to end of range in TimeSelector, and jumps
 * back to the beginning of the range in TimeSelector; provides play/pause and step buttons;
 * and provides an animation speed slider.  This class can be extended to provide different
 * play modes; and additional controls and user configurations.
 * @constructor
 * @extends AnimationController
 *
 * @param {Object} options See AnimationController for additional options
 * @param {string} options.target (required) The div id to use for the UI
 * @param {number} options.slowest (optional) The longest possible frame delay in milliseconds on the slider
 * @param {number} options.fastest (optional) The shortest possible frame delay in milliseconds on the slider
 * @param {string} options.playIconUrl (optional) The URL the the play button icon
 * @param {string} options.pauseIconUrl (optional) The URL the the pause button icon
 * @param {string} options.stepBackIconUrl (optional) The URL the the back button icon
 * @param {string} options.stepForwardIconUrl (optional) The URL the the next button icon
 */
ral.time.BasicAnimationController = function( options )
{
  /* set the values for required parameters */
  this.target = options.target;

  /* set the default values on optional parameters */
  this.slowest            = 1000;
  this.fastest            = 150;
  this.stepBackIconUrl    = ral.time.BasicAnimationController.stepBackIconUrl;
  this.playIconUrl        = ral.time.BasicAnimationController.playIconUrl;
  this.pauseIconUrl       = ral.time.BasicAnimationController.pauseIconUrl;
  this.stepForwardIconUrl = ral.time.BasicAnimationController.stepForwardIconUrl;

  /* override default values on optional parameters if they were provided */
  if( typeof( options.slowest ) !== "undefined" ) this.slowest = options.slowest;
  if( typeof( options.fastest ) !== "undefined" ) this.fastest = options.fastest;
  if( typeof( options.stepBackIconUrl ) !== "undefined" ) this.stepBackIconUrl = options.stepBackIconUrl;
  if( typeof( options.playIconUrl ) !== "undefined" ) this.playIconUrl = options.playIconUrl;
  if( typeof( options.pauseIconUrl ) !== "undefined" ) this.pauseIconUrl = options.pauseIconUrl;
  if( typeof( options.stepForwardIconUrl ) !== "undefined" ) this.stepForwardIconUrl = options.stepForwardIconUrl;

  /* initialize other parameters */
  this.playing = false;

  /* call the super constructor */
  ral.time.AnimationController.call( this, options );

  /* initialize the view */
  this.initView();

  /* add this as a listener to the TimeSequenceModel */
  this.getTimeSequence().addListener( this );
};


/**
 * Inherit from the AnimationController class
 */
ral.time.BasicAnimationController.prototype = Object.create( ral.time.AnimationController.prototype );



/**
 * Default "step backward" icon in BASE64
 */
ral.time.BasicAnimationController.stepBackIconUrl = "data:image/png;base64,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";


/**
 * Default "step forward" icon in BASE64
 */
ral.time.BasicAnimationController.stepForwardIconUrl = "data:image/png;base64,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";


/**
 * Default "play" icon in BASE64
 */
ral.time.BasicAnimationController.playIconUrl = "data:image/png;base64,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";


/**
 * Default "pause" icon in BASE64
 */
ral.time.BasicAnimationController.pauseIconUrl = "data:image/png;base64,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";


/**
 * Initialize the view components in the target div ID
 * @private
 */
ral.time.BasicAnimationController.prototype.initView = function()
{
  /* create the step backward button and add listener */
  jQuery( "<img/>" )
    .attr( "src", this.stepBackIconUrl )
    .attr( "title", "Step back")
    .on( "click", this.stepBackward.bind( this ) )
    .addClass( "AnimationController_button" )
    .appendTo( "#" + this.target );

  /* create the play/pause button and add listener */
  jQuery( "<img/>" )
    .attr( "id", this.target + "_playButton" )
    .attr( "src", this.playIconUrl )
    .attr( "title", "Play/Pause")
    .on( "click", this.toggleAnimation.bind( this ) )
    .addClass( "AnimationController_button" )
    .appendTo( "#" + this.target );

  /* create the step forward button and add listener */
  jQuery( "<img/>" )
    .attr( "src", this.stepForwardIconUrl )
    .on( "click", this.stepForward.bind( this ) )
    .attr( "title", "Step forward")
    .addClass( "AnimationController_button" )
    .appendTo( "#" + this.target );

  /* calculate the slider position */
  var sliderValue = 1 - ( (this.getFrameDelay() - this.fastest ) / (this.slowest - this.fastest) );

  /* create the speed control slider */
  var slider = jQuery( "<div></div>" )
    .addClass( "AnimationController_slider" )
    .slider( { min: 0, max: 1, step: 0.01, value: sliderValue, change: this.speedControlChanged.bind( this ) } )
    .appendTo( "#" + this.target );

  /* add the 'slow' label to the slider */
  jQuery( "<label></label>" )
    .text( "slow" )
    .addClass( "AnimationController_label" )
    .css( "left", "0%" )
    .css( "margin-top", "20px" )
    .appendTo( slider );

  /* add the 'fast' label to the slider */
  jQuery( "<label></label>" )
    .text( "fast" )
    .addClass( "AnimationController_label" )
    .css( "left", "80%" )
    .css( "margin-top", "20px" )
    .appendTo( slider );

  jQuery( "#" + this.target ).addClass( "AnimationController" );
};


/**
 * Toggle the animation state between playing and paused
 * @public
 */
ral.time.BasicAnimationController.prototype.playingStateChanged = function( isPlaying )
{
  /* set the play/pause icon appropriately */
  if( isPlaying )
  {
    jQuery( "#" + this.target + "_playButton" ).attr( "src", this.pauseIconUrl );
  }
  else
  {
    jQuery( "#" + this.target + "_playButton" ).attr( "src", this.playIconUrl );
  }
};


/**
 * Set the frame delay from the UI controls
 * @private
 *
 * @param {object} event The JQuery UI event [not used]
 * @param {JQueryUI-Slider} ui The UI slider component
 */
ral.time.BasicAnimationController.prototype.speedControlChanged = function( event, ui )
{
  var val = 1 - ui.value;
  var delayMs = ( this.slowest - this.fastest ) * val + this.fastest;

  this.setFrameDelay( delayMs );
};

