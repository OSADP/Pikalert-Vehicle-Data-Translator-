
The following third party libraries and executables are required for VDT TOPR4:

Scons
--scons-2.3.0.tar.gz
--Available for download at: http://www.scons.org/download.php

libconfig
--libconfig-1.4.9.tar.gz
--Available for download at: http://www.hyperrealm.com/libconfig/

ANN
--ann_1.1.2.tar.gz
--Available for download at: http://www.cs.umd.edu/~mount/ANN/

NetCDF
--netcdf-4.2.1.1.tar.gz
--Available for download at: http://www.unidata.ucar.edu/downloads/netcdf/index.jsp 

NetCDF C++ API
--netcdf-cxx4-4.2.tar.gz
--Available for download at: http://www.unidata.ucar.edu/downloads/netcdf/netcdf-cxx/index.jsp

HDF
--hdf5-1.8.10-patch1.tar.gz
--Available for download at: ftp://ftp.hdfgroup.org/HDF5/current/src/

zlib
--zlib-1.2.5.tar.gz
--Available for download at: http://zlib.net/
-- or http://sourceforge.net/projects/libpng/files/zlib/1.2.5/zlib-1.2.5.tar.gz/

Boost
--boost_1_51_0.tar.gz
--Available for download at: http://sourceforge.net/projects/boost/files/boost/1.51.0/

Blitz
--blitz-0.9.tar.gz
--Available for download at: http://sourceforge.net/projects/blitz/files/blitz/Blitz%2B%2B%200.9/

Python-2.7.1
--Python-2.7.1.tgz
--Available for download at: http://www.python.org/download/releases/2.7.1/

FLANN
--flann-1.8.4-src.zip 
--Available for download at: https://github.com/mariusmuja/flann

pytz
--pytz-2013.9-py2.7.egg
--Available for download at: https://pypi.python.org/pypi/pytz/

numpy 
--numpy-1.6.2.tar.gz
--Available for download at: https://pypi.python.org/pypi/numpy/1.6.2

matplotlib
--matplotlib-1.2.0.tar.gz
--Available for download at: https://pypi.python.org/pypi/matplotlib/1.2.0

json_spirit
--json_spirit_v4.06.zip
--Available for download at: http://www.codeproject.com/Articles/20027/JSON-Spirit-A-C-JSON-Parser-Generator-Implemented

udunits
--udunits-2.1.24.tar.gz
--Available for download at: https://www.unidata.ucar.edu/downloads/udunits/index.jsp

expat
--expat-2.1.0.tar.gz
--Available for download at: http://sourceforge.net/projects/expat/

ldm
--Available for download at: http://www.unidata.ucar.edu/software/ldm/

Compiling the code:

Make sure to set the following environment variables in your .cshrc
file, modifying the root (and other paths if necessary) to your desired 
location:

setenv VDT_ROOT     /d2/vii
setenv VDT_DATA     $VDT_ROOT/data
setenv VDT_CODE     $VDT_ROOT/code
setenv VDT_BIN_DIR  $VDT_CODE/bin
setenv VDT_LIB_DIR  $VDT_CODE/lib
setenv VDT_INC_DIR  $VDT_CODE/include
setenv VDT_CCFLAGS  "-Wall -g -O"
setenv BUILD        $VDT_ROOT/build

setenv LOCAL_ROOT ${VDT_ROOT}
setenv LOCAL_INC_DIR ${LOCAL_ROOT}/include
setenv LOCAL_LIB_DIR ${LOCAL_ROOT}/lib
setenv LOCAL_BIN_DIR ${LOCAL_ROOT}/bin
setenv RAL_CCFLAGS "-O -std=c++0x -Wall -g -DNO_NCBYTE"

setenv RAL_INC_DIR /d2/local/include
setenv RAL_LIB_DIR /d2/local/lib
setenv NETCDF_ROOT_DIR /usr/local/netcdf
setenv NETCDF_INC_DIR $NETCDF_ROOT_DIR/include
setenv NETCDF_LIB_DIR $NETCDF_ROOT_DIR/lib
setenv NETCDF_BIN_DIR $NETCDF_ROOT_DIR/bin
setenv HDF_ROOT_DIR /usr/local/hdf5
setenv HDF_INC_DIR $HDF_ROOT_DIR/include
setenv HDF_LIB_DIR $HDF_ROOT_DIR/lib
setenv HDF_BIN_DIR $HDF_ROOT_DIR/bin
setenv ZLIB_ROOT_DIR /usr/local/zlib
setenv ZLIB_INC_DIR $ZLIB_ROOT_DIR/include
setenv ZLIB_LIB_DIR $ZLIB_ROOT_DIR/lib
setenv ZLIB_BIN_DIR $ZLIB_ROOT_DIR/bin
setenv SZIP_INC_DIR /usr/local/szip/include
setenv SZIP_LIB_DIR /usr/local/szip/lib
setenv UDUNITS2_INC_DIR /usr/local/udunits2/include
setenv UDUNITS2_LIB_DIR /usr/local/udunits2/lib


To build, do the following:

source ~/.cshrc
mkdir $BUILD
mv vdt_topr4.tar.gz $BUILD
cd $BUILD
tar -zxf vdt_topr4.tar.gz

cd $BUILD/vdt/build_install
build.py -s manifest .. $VDT_CODE $VDT_DATA

This will build all VDT libraries and executables. Libraries will be installed in $VDT_CODE/lib and executables in $VDT_CODE/bin.


Some of the configuration files have hard coded paths that you may need to modify for your system.  Below is a list of the field and the files which may need modification.

  "rwh_cdl" in rwh_config.cfg
  "road_segment_file" in the rwa configuration files (mi_rwa.cfg, mn_rwa.cfg, nv_rwa.cfg)
  "climatology_file", "probe_message_cdl", "probe_message_qc_cdl", "statistics_cdl", "assessment_cdl" in statistics_output.cfg, vdt_mi_config.cfg, vdt_mn_config.cfg, vdt_nv_config.cfg

  various paths in backend_sys_path.py 
  "RWIS_DIR" in vii_paths.py
  "cdl_file" in write_probe_message_cdf.py
  Modify log paths (/d2/vii/data/log) in run_cdf_to_csv.py, run_create_probe_msg_history_mi.py, run_create_probe_msg_history_nv.py, run_create_probe_msg_history.py, run_group_umtri_probe_message_files.py